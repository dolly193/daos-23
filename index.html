<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Análise de Sistema</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <canvas id="matrix-canvas"></canvas>
    
    <div id="welcome-screen" class="overlay">
        <h1 id="welcome-text">BEM VINDO DESKTOP455<br>vc esta sendo analisado</h1>
    </div>

    <div id="cmd-screen" class="overlay">
        <div class="terminal-window">
            <div class="terminal-header">
                <div class="terminal-buttons">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
            </div>
            <pre id="cmd-output"></pre>
        </div>
    </div>

    <div id="shutdown-screen" class="overlay">
        <p>DESLIGANDO...</p>
    </div>

    <script>
        // --- Efeito Matrix ---
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const katakana = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';
        const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const nums = '0123456789';
        const characters = katakana + latin + nums;

        const fontSize = 16;
        const columns = Math.floor(canvas.width / fontSize);

        const drops = [];
        for (let x = 0; x < columns; x++) {
            drops[x] = 1;
        }

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = 'red'; // Cor dos caracteres
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = characters.charAt(Math.floor(Math.random() * characters.length));
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        const matrixInterval = setInterval(drawMatrix, 33);

        // --- Efeito de Digitação (baseado em Promise) ---
        function typeWriter(text, element, delay = 40) { // Velocidade de digitação padrão aumentada
            return new Promise(resolve => {
                // Faz o elemento scrollar para o final
                element.scrollTop = element.scrollHeight;
                let i = 0;
                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        element.scrollTop = element.scrollHeight;
                        // Varia a velocidade de digitação para parecer mais humano
                        const randomDelay = delay - 15 + Math.random() * 30; // Variação de velocidade mais rápida
                        setTimeout(type, randomDelay);
                    } else {
                        resolve();
                    }
                }
                type();
            });
        }

        // Função para adicionar uma nova linha de comando
        function newCmdLine(outputElement) {
            outputElement.innerHTML += `\n<span class="prompt">> </span>`;
        }

        // --- Controle da Sequência ---
        async function startSequence() {
            const welcomeScreen = document.getElementById('welcome-screen');
            const cmdScreen = document.getElementById('cmd-screen');
            const cmdOutput = document.getElementById('cmd-output');
            const shutdownScreen = document.getElementById('shutdown-screen');

            await new Promise(resolve => setTimeout(resolve, 2000)); // Reduzido de 5s para 2s

            welcomeScreen.style.display = 'none';
            canvas.style.display = 'none';
            clearInterval(matrixInterval);
            cmdScreen.style.display = 'flex';
            cmdOutput.innerHTML = '<span class="prompt">> </span>'; // Inicia com o prompt
            
            const commands = [
                'iniciando conexão com 192.168.1.1...',
                'Bypass de firewall ativado.',
                'Procurando por vulnerabilidades...',
                'Falha de segurança encontrada: CVE-2023-ROBLOX-AUTH',
                'Injetando payload...',
                'Acesso root concedido.',
                'Listando diretórios de usuário...',
                '/home/EmanuelTopLegal',
                'Acessando /home/EmanuelTopLegal/Documents/private',
                'Permissão negada. Escalando privilégios.',
                'sudo su -',
                'Privilégios de superusuário obtidos.',
                'Lendo cache do navegador...',
                'Navegador alvo: Chrome',
                'Localizando banco de dados de cookies: /Library/Application Support/Google/Chrome/Default/Cookies',
                "Executando consulta SQL: SELECT * FROM cookies WHERE host_key LIKE '%.roblox.com'",
                '1 registro encontrado.',
                'Descriptografando valor do cookie...',
                'Chave de descriptografia obtida do sistema de chaves.',
                'Sucesso!'
            ];

            for (const command of commands) {
                await typeWriter(command, cmdOutput, 20); // Digitação dos comandos mais rápida
                newCmdLine(cmdOutput);
                await new Promise(resolve => setTimeout(resolve, Math.random() * 50 + 50)); // Pausa entre linhas reduzida
            }

            await typeWriter('cookies de www.roblox.com detectado: EmanuelTopLegal', cmdOutput, 50); // Digitação da mensagem final mais rápida
            await new Promise(resolve => setTimeout(resolve, 2000)); // Reduzido de 3s para 2s

            cmdScreen.style.display = 'none';
            shutdownScreen.style.display = 'flex';

            await new Promise(resolve => setTimeout(resolve, 1500)); // Reduzido de 2.5s para 1.5s

            try {
                await document.documentElement.requestFullscreen();
            } catch (err) {
                console.error("Não foi possível entrar em tela cheia:", err.message);
            }
            
            shutdownScreen.style.display = 'none';
            document.body.style.backgroundColor = '#000';

            await new Promise(resolve => setTimeout(resolve, 3000)); // Espera 3 segundos
            window.location.href = 'https://www.roblox.com'; // Redireciona para o Roblox
        }

        window.onload = startSequence;
    </script>
</body>
</html>
